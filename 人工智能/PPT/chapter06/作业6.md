[TOC]

# 作业6：机器学习

**7203610712-樊启元**

## 问题一

>1. 对于家庭收入X影响家庭消费支出Y的问题，
>家庭收入X[800,1200, 2000,3000,4000,5000,7000,9000,10000] 
>家庭消费支出Y[770,1100, 1300, 2200,2100,2700,3800,3900,5500]
>1）试建立Y与X之间的样本回归方程。
>2）预测收入为6000元, 15000元这类家庭的平均消费支出。

**解：**

(1) 
$$
\overline{y} = a \overline{x} + b
$$

$$
a = \frac{\sum x_iy_i - n\overline{x}\space \overline{y}}{\sum x_i^2-n\overline{x}^2} 
$$

$$
a = \frac{149736000-109060000}{286080000-9*(42000/9)^2}=0.4516
$$

$$
b=\overline{y}-a\overline{x}
$$

$$
b = \frac{23370}{9}-0.4516*\frac{42000}{9}=489.2
$$

即回归方程为
$$
y = 0.4516x + 489.2000
$$
(2)
$$
y_{x=6000}=0.4516*6000+489.2000=3198.8元
$$

$$
y_{x=15000}=0.4516*15000+489.2000=7263.2元
$$





>2. 根据下面数据构建决策树并回答下面问题
>1）	计算总熵值
>2）	计算收入和性别信息熵和增益熵
>3）	构建决策树，并回答（31岁，女，30W，是）是否买房？ 

 ![image-20221016082055717](C:\Users\26326\AppData\Roaming\Typora\typora-user-images\image-20221016082055717.png)

**解：**

1）

熵值计算公式
$$
H(p)=-\sum^np_ilogp_i
$$
针对是否买房计算其熵值
$$
P_{(买房)}=\frac{3}{8}
$$

$$
\overline{P_{(买房)}}=\frac{5}{8}
$$

关于买房的熵值为
$$
H(买房) = -P_{(买房)}*log(P(买房)) - \overline{P_{(买房)}}*\overline{logP_{(买房)}} = 0.9544
$$
同理计算其他熵值

性别
$$
P(男)=\frac{6}{8}
$$

$$
P(女)=\frac{2}{8}
$$

$$
H(性别)=-0.75*log0.75 - 0.25*log0.25=0.2442
$$

收入
$$
P(x>=30万)=\frac{1}{2}
$$

$$
P(x<30万)=\frac{1}{2}
$$

$$
H(收入)=-0.5*log0.5-0.5*log0.5=0.3010
$$



婚姻状况
$$
P(已婚)=\frac{1}{2}
$$

$$
P(未婚)=\frac{1}{2}
$$

$$
H(婚姻状况)=-0.5*log0.5-0.5*log0.5=0.3010
$$



2)

信息增熵

![image-20221016091555157](C:\Users\26326\AppData\Roaming\Typora\typora-user-images\image-20221016091555157.png)

收入
$$
P(x>=30万)=\frac{1}{2}
$$

$$
P(x<30万)=\frac{1}{2}
$$

$$
H(收入)=-0.5*log0.5-0.5*log0.5=0.3010
$$

$$
H(买房|收入)=\frac{3}{8}*(-\frac{1}{1}log\frac{1}{1})+\frac{5}{8}*(-\frac{2}{5}log\frac{2}{5}-\frac{3}{5}log\frac{3}{5})=0.1827
$$



性别
$$
P(男)=\frac{6}{8}
$$

$$
P(女)=\frac{2}{8}
$$

$$
H(性别)=-0.75*log0.75 - 0.25*log0.25=0.2442
$$

$$
H(买房|性别)=\frac{3}{8}*(-\frac{2}{3}log\frac{2}{3}-\frac{1}{3}log\frac{1}{3})+\frac{5}{8}*(-\frac{4}{5}log\frac{4}{5}-\frac{1}{5}log\frac{1}{5})=0.4142
$$

3）

根据上一问的计算结果，选择信息增熵最大的性别作为根节点，然后将性别作为条件，计算在此基础上熵增益最大的判据，如此往复。

